openapi: 3.0.0
info:
  title: í˜œíƒ ì¶”ì²œ ì±—ë´‡ API
  description: |
    AI ê¸°ë°˜ ê°œì¸í™”ëœ í˜œíƒ ì¶”ì²œ ë° ì±—ë´‡ ì„œë¹„ìŠ¤ API

    ## ì£¼ìš” ê¸°ëŠ¥
    - ğŸ¤– ìì—°ì–´ ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤
    - ğŸ¯ AI ê¸°ë°˜ ê°œì¸í™” í˜œíƒ ì¶”ì²œ
    - ğŸ” ì‹¤ì‹œê°„ ì›¹ ê²€ìƒ‰ ë³´ì™„ (ê²°ê³¼ 3ê°œ ë¯¸ë§Œ ì‹œ)
    - ğŸ“Š ì†Œë¹„ íŒ¨í„´ ë¶„ì„

    ## Flutter ê°œë°œìë¥¼ ìœ„í•œ íŒ
    - `/api/chat` ì—”ë“œí¬ì¸íŠ¸ë¥¼ ì£¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”
    - `user_id`ëŠ” ì•±ì—ì„œ ìƒì„±í•œ ê³ ìœ  ID ì‚¬ìš©
    - ì›¹ ê²€ìƒ‰ ë³´ì™„ ê¸°ëŠ¥ìœ¼ë¡œ í•­ìƒ ì¶©ë¶„í•œ ê²°ê³¼ ì œê³µ

  version: 2.1.0-ec2
  contact:
    name: API Support
    email: support@example.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost
    description: ë¡œì»¬ ê°œë°œ ì„œë²„
  - url: http://your-server-ip
    description: EC2 í”„ë¡œë•ì…˜ ì„œë²„
  - url: https://your-domain.com
    description: HTTPS í”„ë¡œë•ì…˜ ì„œë²„

tags:
  - name: Chat
    description: ì±—ë´‡ ëŒ€í™” ê´€ë ¨ API
  - name: Search
    description: í˜œíƒ ê²€ìƒ‰ ê´€ë ¨ API
  - name: System
    description: ì‹œìŠ¤í…œ ìƒíƒœ ê´€ë ¨ API

paths:
  /api/chat:
    post:
      tags: [Chat]
      summary: ì±—ë´‡ ë©”ì‹œì§€ ì „ì†¡
      description: |
        ê°€ì¥ í•µì‹¬ì ì¸ APIì…ë‹ˆë‹¤. Flutter ì•±ì—ì„œ ì£¼ë¡œ ì‚¬ìš©í•˜ì„¸ìš”.

        ### íŠ¹ì§•
        - ìì—°ì–´ ì§ˆë¬¸ ì²˜ë¦¬
        - ìë™ ì›¹ ê²€ìƒ‰ ë³´ì™„ (ê²°ê³¼ ë¶€ì¡± ì‹œ)
        - ê°œì¸í™”ëœ ì‘ë‹µ ìƒì„±
        - ì¶”ì²œ ì§ˆë¬¸ ì œê³µ

        ### Flutter ì‚¬ìš©ë²•
        ```dart
        final response = await apiService.sendChatMessage(
          message: "ìŠ¤íƒ€ë²…ìŠ¤ í˜œíƒ ì•Œë ¤ì£¼ì„¸ìš”",
          userId: "flutter_user_12345"
        );
        ```

      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatRequest"
            examples:
              basic:
                summary: ê¸°ë³¸ ì§ˆë¬¸
                value:
                  message: "ìŠ¤íƒ€ë²…ìŠ¤ í˜œíƒ ì•Œë ¤ì£¼ì„¸ìš”"
                  user_id: "flutter_user_12345"
                  user_context:
                    spending_history: []
              personalized:
                summary: ê°œì¸í™”ëœ ì§ˆë¬¸
                value:
                  message: "ë‚´ ì†Œë¹„íŒ¨í„´ì— ë§ëŠ” í˜œíƒ ì¶”ì²œí•´ì£¼ì„¸ìš”"
                  user_id: "flutter_user_12345"
                  user_context:
                    spending_history:
                      - brand: "ìŠ¤íƒ€ë²…ìŠ¤"
                        category: "ì¹´í˜"
                        amount: 5000
                        date: "2024-01-15"
                      - brand: "ë§¥ë„ë‚ ë“œ"
                        category: "íŒ¨ìŠ¤íŠ¸í‘¸ë“œ"
                        amount: 8000
                        date: "2024-01-14"
      responses:
        "200":
          description: ì„±ê³µì ì¸ ì‘ë‹µ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ChatResponse"
              examples:
                success:
                  summary: ì„±ê³µ ì‘ë‹µ
                  value:
                    success: true
                    response:
                      message: "ìŠ¤íƒ€ë²…ìŠ¤ ê´€ë ¨ í˜œíƒì„ ì°¾ì•˜ìŠµë‹ˆë‹¤! ğŸ‰\n\n1. **ìŠ¤íƒ€ë²…ìŠ¤ ì‚¬ì´ë Œì˜¤ë”** - ë³„ ì ë¦½ í˜œíƒ\nêµ¬ë§¤ ê¸ˆì•¡ì˜ 2% ë³„ ì ë¦½\n\n2. **ì‹ í•œì¹´ë“œ ìŠ¤íƒ€ë²…ìŠ¤ í˜œíƒ** - 10% í• ì¸\nì‹ í•œì¹´ë“œ ê²°ì œ ì‹œ ë§¤ì›” 5ë§Œì› í•œë„"
                      timestamp: "2024-01-20T10:30:00Z"
                      data:
                        total_results: 5
                        web_search_used: false
                        search_strategy:
                          categories_found: ["ì¹´í˜"]
                          brands_found: ["ìŠ¤íƒ€ë²…ìŠ¤"]
                        suggestions:
                          - "ì´ë””ì•¼ í˜œíƒë„ ì•Œë ¤ì£¼ì„¸ìš”"
                          - "ì¹´í˜ í• ì¸ì¹´ë“œ ì¶”ì²œí•´ì£¼ì„¸ìš”"
                    search_results:
                      - id: "benefit_001"
                        metadata:
                          title: "ìŠ¤íƒ€ë²…ìŠ¤ ì‚¬ì´ë Œì˜¤ë” ì ë¦½"
                          brand: "ìŠ¤íƒ€ë²…ìŠ¤"
                          category: "ì¹´í˜"
                          benefit_type: "ì ë¦½"
                          discount_rate: "ë³„ 1ê°œë‹¹ 12.5ì›"
                          conditions: "ì‚¬ì´ë Œì˜¤ë” ê²°ì œ ì‹œ"
                          valid_from: "2024-01-01"
                          valid_to: "2024-12-31"
                          source: "ë‚´ë¶€ë°ì´í„°"
                        similarity_score: 0.95
                        search_type: "direct_brand"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalError"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"

  /api/search:
    post:
      tags: [Search]
      summary: í˜œíƒ ê²€ìƒ‰
      description: |
        ì§ì ‘ì ì¸ í˜œíƒ ê²€ìƒ‰ APIì…ë‹ˆë‹¤.

        ### ì›¹ ê²€ìƒ‰ ë³´ì™„ ê¸°ëŠ¥
        - ê²€ìƒ‰ ê²°ê³¼ê°€ 3ê°œ ë¯¸ë§Œì¼ ë•Œ ìë™ìœ¼ë¡œ ì›¹ ê²€ìƒ‰ ì‹¤í–‰
        - ë„¤ì´ë²„ ê²€ìƒ‰ API ìš°ì„  ì‚¬ìš© (API í‚¤ ì„¤ì • ì‹œ)
        - ì‹¤ì‹œê°„ ìµœì‹  ì •ë³´ ë³´ì™„

      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SearchRequest"
            examples:
              simple:
                summary: ê°„ë‹¨ ê²€ìƒ‰
                value:
                  query: "ì¹´í˜ í• ì¸"
                  top_k: 5
              personalized:
                summary: ê°œì¸í™” ê²€ìƒ‰
                value:
                  query: "ë§ˆíŠ¸ í˜œíƒ"
                  user_history:
                    preferred_brands: ["ì´ë§ˆíŠ¸", "í™ˆí”ŒëŸ¬ìŠ¤"]
                    preferred_categories: ["ë§ˆíŠ¸"]
                  top_k: 10
                  debug: false
      responses:
        "200":
          description: ê²€ìƒ‰ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SearchResponse"
              examples:
                success:
                  summary: ê²€ìƒ‰ ì„±ê³µ (ì›¹ ê²€ìƒ‰ ë³´ì™„ í¬í•¨)
                  value:
                    success: true
                    query: "í…ŒìŠ¬ë¼ ì¶©ì „ í• ì¸"
                    extracted_categories: []
                    extracted_brands: ["í…ŒìŠ¬ë¼"]
                    results:
                      - id: "web_í…ŒìŠ¬ë¼ì¶©ì „í• ì¸_0"
                        metadata:
                          title: "í…ŒìŠ¬ë¼ ìŠˆí¼ì°¨ì € í• ì¸ ì´ë²¤íŠ¸"
                          brand: "í…ŒìŠ¬ë¼"
                          category: "ê¸°íƒ€"
                          benefit_type: "ì›¹ê²€ìƒ‰"
                          discount_rate: "ìƒì„¸ì •ë³´ í™•ì¸ í•„ìš”"
                          conditions: "ì›¹ì‚¬ì´íŠ¸ í™•ì¸ í•„ìš”"
                          valid_from: "2024-01-20"
                          valid_to: "ìƒì„¸ì •ë³´ í™•ì¸ í•„ìš”"
                          source: "ì›¹ê²€ìƒ‰"
                          url: "https://example.com/tesla-charging"
                          search_keyword: "í…ŒìŠ¬ë¼ ì¶©ì „ í• ì¸"
                        similarity_score: 0.7
                        search_type: "web_search"
                    total_found: 3
                    web_search_used: true
                    timestamp: "2024-01-20T10:30:00Z"
        "400":
          $ref: "#/components/responses/BadRequest"
        "500":
          $ref: "#/components/responses/InternalError"

  /api/recommend:
    post:
      tags: [Search]
      summary: AI ê°œì¸í™” ì¶”ì²œ
      description: |
        ì‚¬ìš©ìì˜ ì†Œë¹„ íŒ¨í„´ì„ ë¶„ì„í•˜ì—¬ ë§ì¶¤í˜• í˜œíƒì„ ì¶”ì²œí•©ë‹ˆë‹¤.

        ### ê°œì¸í™” ìš”ì†Œ
        - ì†Œë¹„ ì´ë ¥ ë¶„ì„
        - ì„ í˜¸ ë¸Œëœë“œ/ì¹´í…Œê³ ë¦¬ ê°€ì¤‘ì¹˜
        - ìµœê·¼ì„± ì ìˆ˜ ì ìš©
        - AI ìƒì„± ì¶”ì²œ í…ìŠ¤íŠ¸

      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecommendRequest"
            example:
              query: "ë§ì¶¤ í˜œíƒ ì¶”ì²œ"
              user_profile:
                preferred_brands: ["ìŠ¤íƒ€ë²…ìŠ¤", "ë§¥ë„ë‚ ë“œ"]
                preferred_categories: ["ì¹´í˜", "íŒ¨ìŠ¤íŠ¸í‘¸ë“œ"]
                total_transactions: 50
                average_spending:
                  ì¹´í˜: 4500
                  íŒ¨ìŠ¤íŠ¸í‘¸ë“œ: 8000
              spending_history:
                - brand: "ìŠ¤íƒ€ë²…ìŠ¤"
                  category: "ì¹´í˜"
                  amount: 5000
                  date: "2024-01-15"
              top_k: 10
      responses:
        "200":
          description: ì¶”ì²œ ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecommendResponse"

  /health:
    get:
      tags: [System]
      summary: í—¬ìŠ¤ì²´í¬
      description: |
        ì„œë²„ì™€ ì£¼ìš” êµ¬ì„±ìš”ì†Œì˜ ìƒíƒœë¥¼ í™•ì¸í•©ë‹ˆë‹¤.

        Flutter ì•± ì‹œì‘ ì‹œ ì„œë²„ ì—°ê²° ìƒíƒœ í™•ì¸ì— ì‚¬ìš©í•˜ì„¸ìš”.

      responses:
        "200":
          description: ì‹œìŠ¤í…œ ì •ìƒ
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HealthResponse"
              example:
                status: "healthy"
                service: "EC2 ê°œì¸í™”ëœ í˜œíƒ ì¶”ì²œ API v2.1"
                database_connected: true
                rag_system_loaded: true
                version: "2.1.0-ec2"
                timestamp: "2024-01-20T10:30:00Z"
                environment: "production"
        "500":
          description: ì‹œìŠ¤í…œ ì˜¤ë¥˜
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ErrorResponse"

  /api/categories:
    get:
      tags: [System]
      summary: ì§€ì› ì¹´í…Œê³ ë¦¬ ëª©ë¡
      description: |
        ì‹œìŠ¤í…œì—ì„œ ì§€ì›í•˜ëŠ” ëª¨ë“  ì¹´í…Œê³ ë¦¬ì™€ ê´€ë ¨ í‚¤ì›Œë“œë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.

        Flutter ì•±ì—ì„œ ì¹´í…Œê³ ë¦¬ ì„ íƒ UIì— í™œìš©í•˜ì„¸ìš”.

      responses:
        "200":
          description: ì¹´í…Œê³ ë¦¬ ëª©ë¡
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CategoriesResponse"
              example:
                categories:
                  [
                    "ì¹´í˜",
                    "ë§ˆíŠ¸",
                    "í¸ì˜ì ",
                    "ì˜¨ë¼ì¸ì‡¼í•‘",
                    "ë°°ë‹¬ìŒì‹",
                    "ë·°í‹°",
                    "íŒ¨ìŠ¤íŠ¸í‘¸ë“œ",
                    "ì£¼ìœ ì†Œ",
                  ]
                category_details:
                  ì¹´í˜:
                    [
                      "ì¹´í˜",
                      "ì»¤í”¼",
                      "coffee",
                      "ìŠ¤íƒ€ë²…ìŠ¤",
                      "ì´ë””ì•¼",
                      "íˆ¬ì¸í”Œë ˆì´ìŠ¤",
                    ]
                  ë§ˆíŠ¸:
                    ["ë§ˆíŠ¸", "mart", "ìŠˆí¼", "ì´ë§ˆíŠ¸", "í™ˆí”ŒëŸ¬ìŠ¤", "ë¡¯ë°ë§ˆíŠ¸"]
                timestamp: "2024-01-20T10:30:00Z"

  /api/info:
    get:
      tags: [System]
      summary: API ì •ë³´
      description: API ë²„ì „, ê¸°ëŠ¥, ì—”ë“œí¬ì¸íŠ¸ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      responses:
        "200":
          description: API ì •ë³´
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiInfoResponse"

  /api/stats:
    get:
      tags: [System]
      summary: ë°ì´í„°ë² ì´ìŠ¤ í†µê³„
      description: ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ìƒíƒœì™€ í†µê³„ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
      responses:
        "200":
          description: í†µê³„ ì •ë³´
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatsResponse"
        "503":
          $ref: "#/components/responses/ServiceUnavailable"

components:
  schemas:
    ChatRequest:
      type: object
      required: [message, user_id]
      properties:
        message:
          type: string
          description: ì‚¬ìš©ì ë©”ì‹œì§€/ì§ˆë¬¸
          example: "ìŠ¤íƒ€ë²…ìŠ¤ í˜œíƒ ì•Œë ¤ì£¼ì„¸ìš”"
          minLength: 1
          maxLength: 500
        user_id:
          type: string
          description: ê³ ìœ  ì‚¬ìš©ì ID (Flutterì—ì„œ ìƒì„±)
          example: "flutter_user_12345"
          pattern: "^[a-zA-Z0-9_-]+$"
        user_context:
          type: object
          description: ì‚¬ìš©ì ì»¨í…ìŠ¤íŠ¸ ì •ë³´
          properties:
            spending_history:
              type: array
              description: ì†Œë¹„ ì´ë ¥
              items:
                $ref: "#/components/schemas/SpendingRecord"

    ChatResponse:
      type: object
      properties:
        success:
          type: boolean
          description: ìš”ì²­ ì„±ê³µ ì—¬ë¶€
        response:
          type: object
          properties:
            message:
              type: string
              description: AI ìƒì„± ì‘ë‹µ ë©”ì‹œì§€
            timestamp:
              type: string
              format: date-time
              description: ì‘ë‹µ ìƒì„± ì‹œê°„
            data:
              type: object
              properties:
                total_results:
                  type: integer
                  description: ì´ ê²€ìƒ‰ ê²°ê³¼ ìˆ˜
                web_search_used:
                  type: boolean
                  description: ì›¹ ê²€ìƒ‰ ë³´ì™„ ì‚¬ìš© ì—¬ë¶€
                search_strategy:
                  type: object
                  description: ì‚¬ìš©ëœ ê²€ìƒ‰ ì „ëµ ì •ë³´
                suggestions:
                  type: array
                  description: ì¶”ì²œ ì§ˆë¬¸ ëª©ë¡
                  items:
                    type: string
        search_results:
          type: array
          description: ê²€ìƒ‰ëœ í˜œíƒ ê²°ê³¼ ëª©ë¡
          items:
            $ref: "#/components/schemas/BenefitResult"
        error:
          type: string
          description: ì˜¤ë¥˜ ë©”ì‹œì§€ (ì‹¤íŒ¨ ì‹œ)

    SearchRequest:
      type: object
      required: [query]
      properties:
        query:
          type: string
          description: ê²€ìƒ‰ ì§ˆì˜
          example: "ì¹´í˜ í• ì¸"
        user_history:
          type: object
          description: ì‚¬ìš©ì ì´ë ¥ ì •ë³´
          properties:
            preferred_brands:
              type: array
              items:
                type: string
            preferred_categories:
              type: array
              items:
                type: string
        top_k:
          type: integer
          description: ë°˜í™˜í•  ìµœëŒ€ ê²°ê³¼ ìˆ˜
          default: 5
          minimum: 1
          maximum: 20
        debug:
          type: boolean
          description: ë””ë²„ê·¸ ëª¨ë“œ
          default: false

    SearchResponse:
      type: object
      properties:
        success:
          type: boolean
        query:
          type: string
        extracted_categories:
          type: array
          items:
            type: string
        extracted_brands:
          type: array
          items:
            type: string
        results:
          type: array
          items:
            $ref: "#/components/schemas/BenefitResult"
        total_found:
          type: integer
        web_search_used:
          type: boolean
          description: ì›¹ ê²€ìƒ‰ ë³´ì™„ ê¸°ëŠ¥ ì‚¬ìš© ì—¬ë¶€
        search_strategy:
          type: object
          description: ì ìš©ëœ ê²€ìƒ‰ ì „ëµ ì •ë³´
        timestamp:
          type: string
          format: date-time

    RecommendRequest:
      type: object
      required: [query]
      properties:
        query:
          type: string
          example: "ë§ì¶¤ í˜œíƒ ì¶”ì²œ"
        user_profile:
          type: object
          description: ì‚¬ìš©ì í”„ë¡œí•„ ì •ë³´
        spending_history:
          type: array
          items:
            $ref: "#/components/schemas/SpendingRecord"
        top_k:
          type: integer
          default: 10

    RecommendResponse:
      type: object
      properties:
        success:
          type: boolean
        query:
          type: string
        ai_response:
          type: string
          description: AI ìƒì„± ì¶”ì²œ í…ìŠ¤íŠ¸
        search_results:
          type: array
          items:
            $ref: "#/components/schemas/BenefitResult"
        user_profile_summary:
          type: object
          description: ì‚¬ìš©ì í”„ë¡œí•„ ìš”ì•½
        timestamp:
          type: string
          format: date-time

    BenefitResult:
      type: object
      properties:
        id:
          type: string
          description: í˜œíƒ ê³ ìœ  ID
        metadata:
          $ref: "#/components/schemas/BenefitMetadata"
        similarity_score:
          type: number
          format: float
          description: ìœ ì‚¬ë„ ì ìˆ˜ (0-1)
        search_type:
          type: string
          enum: [direct_category, direct_brand, vector, web_search, generic_web]
          description: ê²€ìƒ‰ ë°©ì‹

    BenefitMetadata:
      type: object
      properties:
        title:
          type: string
          description: í˜œíƒ ì œëª©
        brand:
          type: string
          description: ë¸Œëœë“œëª…
        category:
          type: string
          description: ì¹´í…Œê³ ë¦¬
        benefit_type:
          type: string
          description: í˜œíƒ ìœ í˜• (í• ì¸, ì ë¦½, ì¿ í° ë“±)
        discount_rate:
          type: string
          description: í• ì¸ìœ¨ ë˜ëŠ” í˜œíƒ ì •ë„
        conditions:
          type: string
          description: í˜œíƒ ì¡°ê±´
        valid_from:
          type: string
          description: ìœ íš¨ê¸°ê°„ ì‹œì‘
        valid_to:
          type: string
          description: ìœ íš¨ê¸°ê°„ ì¢…ë£Œ
        source:
          type: string
          description: ë°ì´í„° ì¶œì²˜
        url:
          type: string
          description: ê´€ë ¨ ì›¹ì‚¬ì´íŠ¸ URL (ì›¹ ê²€ìƒ‰ ê²°ê³¼ì˜ ê²½ìš°)
        search_keyword:
          type: string
          description: ì›¹ ê²€ìƒ‰ì— ì‚¬ìš©ëœ í‚¤ì›Œë“œ (ì›¹ ê²€ìƒ‰ ê²°ê³¼ì˜ ê²½ìš°)

    SpendingRecord:
      type: object
      properties:
        brand:
          type: string
          description: ë¸Œëœë“œëª…
          example: "ìŠ¤íƒ€ë²…ìŠ¤"
        category:
          type: string
          description: ì¹´í…Œê³ ë¦¬
          example: "ì¹´í˜"
        amount:
          type: number
          description: ì†Œë¹„ ê¸ˆì•¡
          example: 5000
        date:
          type: string
          format: date
          description: ì†Œë¹„ ë‚ ì§œ
          example: "2024-01-15"

    HealthResponse:
      type: object
      properties:
        status:
          type: string
          enum: [healthy, unhealthy]
        service:
          type: string
        database_connected:
          type: boolean
        rag_system_loaded:
          type: boolean
        version:
          type: string
        timestamp:
          type: string
          format: date-time
        environment:
          type: string

    CategoriesResponse:
      type: object
      properties:
        categories:
          type: array
          items:
            type: string
        category_details:
          type: object
          additionalProperties:
            type: array
            items:
              type: string
        timestamp:
          type: string
          format: date-time

    ApiInfoResponse:
      type: object
      properties:
        service_name:
          type: string
        version:
          type: string
        description:
          type: string
        deployment:
          type: string
        features:
          type: array
          items:
            type: string
        endpoints:
          type: object
        status:
          type: string
        database_status:
          type: string

    StatsResponse:
      type: object
      properties:
        status:
          type: string
        total_documents:
          type: integer
        available_brands:
          type: integer
        available_categories:
          type: integer
        collection_name:
          type: string
        db_path:
          type: string
        metadata_loaded:
          type: boolean
        timestamp:
          type: string
          format: date-time

    ErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          type: string
          description: ì˜¤ë¥˜ ë©”ì‹œì§€
        timestamp:
          type: string
          format: date-time

  responses:
    BadRequest:
      description: ì˜ëª»ëœ ìš”ì²­
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          example:
            success: false
            error: "í•„ìˆ˜ íŒŒë¼ë¯¸í„°ê°€ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤"
            timestamp: "2024-01-20T10:30:00Z"

    InternalError:
      description: ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          example:
            success: false
            error: "ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤"
            timestamp: "2024-01-20T10:30:00Z"

    ServiceUnavailable:
      description: ì„œë¹„ìŠ¤ ì‚¬ìš© ë¶ˆê°€
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
          example:
            success: false
            error: "RAG ì‹œìŠ¤í…œì´ ì´ˆê¸°í™”ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤"
            timestamp: "2024-01-20T10:30:00Z"

  securitySchemes: {}

# ë³´ì•ˆ ìŠ¤í‚¤ë§ˆ (í˜„ì¬ ë¯¸ì‚¬ìš©)
security: []

# ì¶”ê°€ ì •ë³´
externalDocs:
  description: API ì‚¬ìš© ê°€ì´ë“œ ë° ì˜ˆì œ
  url: https://github.com/your-repo/api-docs
